<div class="content-wrapper">
    <section class="content">
        <div class="container-fluid">
            <div class="block-header">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <ul class="breadcrumb">
                            <!-- <li class="breadcrumb-item">
                                <h4 class="page-title">PO Department Head Tracker</h4>
                            </li> -->
                            <li class="breadcrumb-item bcrumb-1">
                                <a href="../../Dashboard">
                                    <i class="fa fa-home"></i> Home</a>
                            </li>
                            <li class="breadcrumb-item active">PO Approval</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="row clearfix">
                <div class="col-12">
    
                   
    
                    <div class="card">
                        <form #myform="ngForm">
                            <div>
                                <!-- header -->
                                <h4 class="header d-flex justify-content-between">
                        
                                    {{cardTitle}}

                                    <div  [hidden]="!boolPoreqList" (click)="list();">                       
                                        Back                 
                                        <!-- <i  class="fa fa-hand-o-right" (click)="list();"></i>    !-->
                                 </div>
                                
                                </h4>
                              
                                <!-- header end -->
                                <div class="body">
                                                            
                                    <div [hidden]="boolPoreqList">
                                        <table id="tableExport" class="display table table-hover table-checkable order-column m-t-20 width-per-100">
                                            <thead>
                                                <tr class="bg-light-gray2">
                        
                                                    <th id="fontsize">Requirement Date</th>
                                                    <th id="fontsize">Department</th>
                                                    <th id="fontsize">Purpose</th>
                                                    <th id="fontsize">PurchaseCategory</th>
                                                    <th id="fontsize" style="text-align: center;">View</th>
                                                    <!-- <th id="fontsize" style="text-align: center;">Delete</th> -->
                                                </tr>
                                            </thead>
                        
                                            <tbody>             
                        
                                                <ng-container *ngFor="let porequirement of porequirementdetail">
                                                    <tr>
                                                        <td>{{porequirement.requirementdate}}</td>
                                                        <td>{{porequirement.department}}</td>
                                                        <td>{{porequirement.purpose}}</td>
                                                        <td>{{porequirement.purchasecategory}}</td>                                                                              
                                                        <td  style="text-align: center;" (click)="ShowPorequirementdetail(porequirement)">
                                                            <i class=" fa fa-eye font-medium-3 mr-2 text-info"></i>
                                                        </td>
                                                    </tr>
                                                </ng-container>
                        
                                            </tbody>
                                        </table>
                        
                                    </div>
                                    
                                    <div [hidden]="!boolPoreqList">
                                            <div class="row">                    
                                                    <div class="form-group col-md-4 mb-2">
                                                        <table>
                                                            <tr class="pad-14">
                                                                <th class="pad-14">
                                                                <label for="userinput2">Requirement Date</label>
                                                            </th>
                                                            <th class="pad-14">
                                                                {{objporeq.requirementdate}}   
                                                            </th>
                                                        </tr>
                                                        <tr>
                                                            <th class="pad-14">
                                                            <label for="userinput2">Purchase Category</label>
                                                        </th>
                                                        <th class="pad-14">
                                                            {{objporeq.purchasecategory}}
                                                        </th>
                                                    </tr>
                                                    <tr><th class="pad-14">
                                                        <label for="userinput2">Description</label>
                                                    </th>
                                                    <th class="pad-14">
                                                        {{objporeq.description}}
                                                    </th>
                                                </tr>
                                                        </table>
                                                                                                            
                                                         
                                                    </div>
                                                    <div class="form-group col-md-4 mb-2">
                                                        <table>
                                                            <tr>
                                                                <th class="pad-14">
                                                                <label for="userinput2">Department</label>
                                                            </th>
                                                            <th class="pad-14">
                                                                {{objporeq.department}}   
                                                            </th>
                                                        </tr>
                                                        <tr><th class="pad-14">
                                                            <label for="userinput2">Type of Purchase</label>
                                                        </th>
                                                        <th class="pad-14">
                                                            {{objporeq.typeofpurchase}}
                                                        </th>
                                                    </tr>
                                                    <tr><th class="pad-14">
                                                        <label for="userinput2">Received Benefits</label>
                                                    </th>
                                                    <th class="pad-14">
                                                        {{objporeq.receivedbenefit}}
                                                    </th>
                                                </tr>
                                                        </table>
                                                      
                                                    </div>
                                                    <div class="form-group col-md-4 mb-2">
                                                        <table>
                                                            <tr><th class="pad-14">
                                                                <label for="userinput2">Purpose</label>
                                                            </th>
                                                            <th class="pad-14">
                                                                {{objporeq.purpose}}   
                                                            </th>
                                                        </tr>
                                                        <tr><th class="pad-14">
                                                            <label for="userinput2">Approximate Value</label>
                                                        </th>
                                                        <th class="pad-14">
                                                            {{objporeq.approxvalue}}
                                                        </th>
                                                    </tr>
                                                        </table>
                                                      
                                                    </div>                                            
                                                  
                                                </div>      
                                               
                                              
                                                <div class="row pad-14">
                                                        <table class="table table-striped table-bordered">
                                                                <thead>
                                                                        <tr class="bg-light-gray2">
                                                                                <th class="th-sm">
                                                                                        Material/Service Name
                                                                                </th>
                                                                                <th class="th-sm">
                                                                                        Description
                                                                                </th>
                                                                                <th class="th-sm">
                                                                                        Quantity
                                                                                </th>
                                                                                <th class="th-sm">
                                                                                        Approx Unit Value
                                                                                </th>
                                                                                <th class="th-sm">
                                                                                        Approx Total Value
                                                                                </th>
                                                                        </tr>
                                                                </thead>
                                                                <tbody>
                                                                        <tr
                                                                                *ngFor="let cost of porequirmentDetails; let i = index">
                                                                                <td>                                                                              
                                                                                        {{cost.materialname}}
                                                                                             
                                                                                </td>
                                                                                <td>{{cost.description}}
                                                                                      
                                                                                </td>
                                                                                <td>
                                                                                    {{cost.quantity}}
                                                                                </td>
                                                                                <td>                                                                              
                                                                                        {{cost.approxunitvalue}}                                                                                          
                                                                                </td>
        
                                                                                <td>
                                                                                    {{cost.approxtotalvalue}}                                                                                            
                                                                                </td>
                                                                                
                                                                        </tr>
                                                                       
                                                                </tbody>
                                                        </table>
                                                </div>
                                           

                                            <a data-toggle="collapse" data-parent="#accordionEx" href="#collapsePorequirementtabInfo" aria-expanded="true"
                                            aria-controls="collapsePorequirementtabInfo">
                                            <h5 class="form-section mt-3 text-primary mb-2 p-2 bg-light">
                                                    <i class="ft-info"></i> Quatation 
                                            </h5>
                                            </a>
                                            <div id="collapsePorequirementtabInfo" class="collapse position-relative" role="tabpanel">
                                               <div class="row">
                                                <div class="form-group col-md-4 mb-2">                            
                                                    <label for="userinput1">Qutation 1 </label>
                                                    <textarea class="form-control bg-transparent" [(ngModel)]="quatation1"
                                                    name="quatation1" id="quatation1" tabindex="7" maxlength="500"></textarea>                                         
                                                </div>
                                                <div class="form-group col-md-4 mb-2">                            
                                                    <label for="userinput1">Quatation 2 </label>
                                                    <textarea class="form-control bg-transparent" [(ngModel)]="quatation2"
                                                    name="quatation2" id="quatation2" tabindex="7" maxlength="500"></textarea>                                         
                                                </div>
                                                <div class="form-group col-md-4 mb-2">                            
                                                    <label for="userinput1">Quatation 3 </label>
                                                    <textarea class="form-control bg-transparent" [(ngModel)]="quatation3"
                                                    name="quatation3" id="quatation3" tabindex="7" maxlength="500"></textarea>                                         
                                                </div>
                                            </div>
                                            </div>

                                                <div class="row pad-14">
                                                   
                                                    <div class="col-3">
                                                        <button type="submit" class="btn btn-raised btn-info btn-min-width mr-1 "
                                                        (click)="openModal()">Forward to Dept Head
                                                        </button>
                                                    </div>
                                                  
                                                        <div class="col-3">
                                                        <button type="submit" class="btn btn-raised btn-danger btn-min-width mr-1 "
                                                        (click)="openModal()"> Reject
                                                        </button>
                                                    </div>
                                                </div>

                                           

                                    </div>



                                </div>
                            </div>
                        
                     
                        </form>
                        
                   
                        
                  
                        
                     
    
    
                        
                    </div>
                </div>
            </div>
        </div>
    </section>
    </div>




    
                                    
<!-- Approval Reject Action Modal -->

<div class="modal" id="modal_approval">
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Transaction Approval</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body">

                <h5>Approve or Reject this request using the options.</h5>

                <p class="text-danger">Note: The action cannot be revert once it was done.</p>

                <div class="form-group ">                            
                    <label for="userinput1">Remarks </label>
                    <textarea class="form-control bg-transparent" [(ngModel)]="comment"
                    name="comment" id="comment"  maxlength="500"></textarea>                                         
                </div>

            <div class="row mt-5">
                <div class="form-group col-md-6 mb-2">
                    <div class="text-right">
                        <button type="submit" class="btn  btn-info  mr-1 mb-1" data-dismiss="modal" aria-label="Close" class="btn btn-raised btn-info btn-min-width mr-1 "
                            (click)="approveorder();"><i class="fa fa-check-square-o"></i>
                            Approve</button>
                    </div>
                </div>
                <div class="form-group col-md-6 mb-2">
                    <div class="text-left">
                        <button type="submit" class="btn  btn-info  mr-1 mb-1" data-dismiss="modal" aria-label="Close" class="btn btn-danger btn-min-width mr-1 "
                            (click)="rejectorder();"><i class="fa fa-check-square-o"></i>
                            Reject</button>
                    </div>
                </div>
            
            </div>

        </div>
    </div>
  </div>
</div>
<!-- Approval Reject Action Modal End-->
    